<!doctype html>
<html lang="en">
<link rel="stylesheet" />
<head>
	<meta charset="UTF-8">
	<title>What does my positive test result mean?</title>
    <link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Sintony:400,400italic,700,700italic" rel="stylesheet" type="text/css">
	<style>


	body{
	font-family: Sans-Serif;
	  width:905px;
	  margin: 0 auto;
	  background-color: #f9f9f9;
	}
	
	button{
	display: block;
	margin: 0 auto;
	text-align: center;
	}
	
	.column-left{
	float:left;
	width:35%;
	text-align:justify;
	line-height: 1.25em;
	}
	
	.column-right{
	float:right;
	width:35%;
	text-align:justify;
	line-height: 1.25em;
	}
	
	#topwrapper{
	width:900px;
	margin:auto;
	padding:5px;
	text-align:center;
	}
	
	#wrapper{
	width:905px;
	margin:auto;
	padding:10px;
	text-align:center;
	overflow:hidden;
	background-color: #fff;
	box-shadow: 0 4px 96px 4px rgba(0,0,0,0.12);
	}
	
<!--	.my_chart{
		border:1px solid #ccc;
		font:1em 'comic sans ms', serif;
		width:400px;
		}
	.my_chart .waffly{
		padding:2em;
		}
	.my_chart .waffly_dots{
		list-style:none;
		margin:0;
		padding:0;
		}
	.my_chart .waffly_dot{
		display:inline-block;
		background:url(imgs/casas.png) right top no-repeat;
		height:16px;
		margin-right:6px;
		width:16px;
		}
	.my_chart .waffly_dot.color1{background-position:left top;}
	.my_chart .waffly_value{
		color:#F46508;
		font-size:2em;
		margin-bottom:.5em;
		text-align:center;
		}
	.my_chart .waffly_title{
		margin-top:1em;
		text-align:center;
		}-->

	</style>
</head>
<body>

<script type="text/javascript">
	var total_cases = 1000, disease_likelihood = 1.5, false_negative = 13.3, true_positive = 100-false_negative, false_positive = 9.5, disease_given_pos = true_positive*disease_likelihood/(true_positive*disease_likelihood+(100-disease_likelihood)*false_positive);
</script>
<div id="topwrapper" style="font-family:Sintony">
<h1>What does my positive test result mean?</h1>
<h3>To answer, you don't just need to know details on the test.<br>You need to know yourself well, too.</h3>
</div>
<div id="wrapper">
<div style="text-align:justify;line-height: 1.25em;">
<p>If you go in for a medical test, you're hoping for more clarity: you might have symptoms and want to know the disease behind them or be checking for something that runs in your family. But when it comes to regular screening tests, like mammograms, you may have no idea how likely you are to have the disease - and often it's fairly unlikely. Is it still worth checking?</p>
<p>Imagine you're deciding whether to have a mammogram—although the same process can be applied to any medical test with yes or no results. You can calculate your risk of breast cancer on <a href="http://www.cancer.gov/bcrisktool/Default.aspx" target="_blank">this site</a> and enter the number below the visualization, where it says "risk of having disease."
</p></div>

<div class="column-left">
<p>
For now, we can choose an example risk: A good estimate of breast cancer risk is age, and around 15 in 1000 women get breast cancer between ages 40 and 49.*</p> 
<p>Click below to see that in the graphic—the blue squares are the women out of 1000 who get breast cancer in that age range or with that risk level.</p>
<button onClick="window['disease_likelihood'] = 1.5; window['false_positive'] = 0; window['false_negative'] = 0; makegraph();">People with disease</button>
<p>There's always a chance that a mammogram will miss evidence of having breast cancer—this is the false negative rate. Ideally, it's a low number. In this case, a mammogram will read negative for approximately 13% of people with breast cancer—although this number changes slightly based on age. Click below to see that in light blue.</p>
<button onClick="window['disease_likelihood'] = 1.5; window['false_positive'] = 0; window['false_negative'] = 13.3; makegraph();">Adding false negatives</button>
<p>But the real worry, especially for breast cancer, is the chance of getting a positive result when you don't have cancer and going through extra tests and biopsies. You'd think you could be pretty sure a positive result means you really have breast cancer—the false positive rate for mammograms is about 9.5%. But click here:</p>
<button onClick="window['disease_likelihood'] = 1.5; window['false_positive'] = 9.5; window['false_negative'] = 13.3; makegraph();">Mammogram test results</button>
<p>
All the dark gray that's appeared is the number of people with that risk who will get a positive result even though they don't have breast cancer—it far outstrips the true positive results. Even though it's much more likely to get a positive when you do have cancer than when you don't, there are so many more people without cancer that the lower rate of false positives adds up.
</p>
</div>

<div class="column-center" align="center" style="display:inline-block;
	width:30%; margin-top:-25px;">
	<div class="chart" id="chart1" data-waffly-title="" style="margin-bottom:-25px;">
		<meter class="chart" value=.24 max="1"></meter>
	</div>
<div id="disease_given_pos" style="margin-bottom:10px"></div>	
<div style="text-align:left; font-size:11px; margin-left:10px; margin-bottom:10px;">
<li class="waffly_dot color1" title="False negatives (have disease)" style="background:#b8d0e8;border-radius:3px;display:inline-block;height:9px;margin:0 1px 0 0;width:9px;"></li>False negatives (have disease, test says no)
<br>
<li class="waffly_dot color2" title="True positives (have disease)" style="background:#0033cc;border-radius:3px;display:inline-block;height:9px;margin:0 1px 0 0;width:9px;"></li>True positives (have disease, test says yes)
<br>
<li class="waffly_dot color3" title="False positives (don't have disease)" style="background:#a0a0a0;border-radius:3px;display:inline-block;height:9px;margin:0 1px 0 0;width:9px;"></li>False positives (don't have disease, test says yes)
<br>
<li class="waffly_dot color4" title="True negatives (don't have disease)" style="background:#d0d0d0;border-radius:3px;display:inline-block;height:9px;margin:0 1px 0 0;width:9px;"></li>True negatives (don't have disease, test says no)
</div>

<div align="right" style="margin-right:10px">
Risk of having disease: <input type="number" id="disease_likelihood" style="width:50px;" min="0" max="100" step="1"  onChange=" window['disease_likelihood'] = Number(value); makegraph();">%<br>	
False positive rate: <input type="number" id="false_positive" style="width:50px" min="0" max="100" step="1"  onChange=" window['false_positive'] = Number(value); makegraph();">%<br>
False negative rate: <input type="number" id="false_negative" style="width:50px" min="0" max="100" step="1"  onChange=" window['false_negative'] = Number(value); makegraph();">%
</div>
</div>

<div class="column-right">
<p>"This is a good test if you test negative, but it's a horrible positive predictive value," says Dr. Scott Zeger, a professor of biostatistics at Johns Hopkins University. "If you test positive, you probably don't have the disease."</p>
<p>But as the years go by and your risk increases, or if you find out that you have a strong risk factor, the probability of a true positive result increases.</p>
<p>A 60-year-old woman might have a 3.9% chance of having breast cancer, since risk increases with age:</p>
<button onClick="window['disease_likelihood'] = 3.9; window['false_positive'] = 9.5; window['false_negative'] = 13.3; makegraph();">Mammogram test results age 60</button>
<p>And a 45-year-old woman with the BRCA1 genetic mutation, which greatly increases the risk of breast cancer, might have a 7.5% chance of having it herself.</p>
<button onClick="window['disease_likelihood'] = 7.5; window['false_positive'] = 9.5; window['false_negative'] = 13.3; makegraph();">Mammogram test results, BRCA1</button>
<p>In her case, a positive result is much more likely to be accurate—and she might want to get a mammogram more frequently. The more sensitive a test is, so the lower the false positive rate, the fewer false alarms you'll get, but the factor that has the greatest effect is your own risk.</p> 
<p>According to Dr. Julie Kaplan, a geneticist at University of Maryland, doctors generally only advise screening tests when there's some kind of follow-up action. When she administers screening tests to newborns, for instance, it's vital to catch certain vitamin deficiencies, and she will assign supplements even before seeing follow-up results. "Usually, the conditions we screen for have treatments," she says. "There is the ability to treat or manage it."</p>
	</div>
<div style="float:left;text-align:justify;line-height: 1.25em;">
<p>Ultimately, with mammograms, a "positive" leads to a follow-up test to try and find more evidence of cancer. That might take the form of a breast biopsy, where a doctor removes a small piece of the place that showed up on the mammogram to check whether it's cancerous. Because of the high false-positive rate, and the chance of overdiagnosing what the test finds, the US Preventative Services Task Force does not recommend getting regular mammograms until age 50 unless you have some higher known risk.</p>
<p>You can try changing the risk in the box to the left to see how big an effect it can have, or try your own examples to model different screening tests other than mammograms. More detailed instructions (and another visualization to investigate) on <a href="2.html">page 2</a>.</p>
<p>* The mammogram data came from the U.S. Preventive Services Task Force <a href="http://www.uspreventiveservicestaskforce.org/uspstf/uspsbrca.htm" target="_blank">recommendations</a> on breast cancer screening as well as the National Cancer Institute's <a href="http://seer.cancer.gov/archive/csr/1975_2009_pops09/results_single/sect_04_table.18.pdf" target="_blank">Breast Cancer Surveillance Consortium</a>. The HIV data, used on the next page, came from <a href="http://www.cdc.gov/hiv/pdf/library_slideSet_testing_usca_branson.pdf" target="_blank">a CDC presentation</a>.</p>
<p align="right">On to <a href="2.html">page 2</a> ></p>
</div>
</div>

	<script src="jquery.min.js"></script>
	<script src="jquery.waffly.js"></script>

	<script>
	$(document).ready(function() {	
	makegraph();
	});
	
	function makegraph(){
		document.getElementById('disease_likelihood').value = disease_likelihood;
		document.getElementById('false_positive').value = false_positive;
		var a = document.getElementById('false_negative').value = false_negative;	
		true_positive = 100-a;
		disease_given_pos = true_positive*disease_likelihood/(true_positive*disease_likelihood+(100-disease_likelihood)*false_positive);
		var percentValue = Math.floor(disease_given_pos*100);
		var extraN = "";
		var extraN2 = "";
		if (percentValue < 90 && percentValue > 79) {
		extraN = "n";
		extraN2 = "";
		} else if (percentValue < 21 && percentValue > 10) {
		extraN = "";
		extraN2 = "n";
		}

		document.getElementById("disease_given_pos").innerHTML = "<b>With a positive result, there's a" + extraN + " " + percentValue + "% chance you have the condition...<br><br>...and a" + extraN2 + " " + (100 - percentValue) + "% chance you don't.</b>";
/*		
		var d = document.getElementById("chart1");
		d.setAttribute("data-waffly-title",disease_given_pos);	
*/	
		
		$('.chart').waffly({
			total_dots: total_cases,
			graph_width: 280,
			dot_row: 20,
			dot_gap: 1,
			dot_radius:'3px',
			graph_font:'Sintony',
			graph_color:'#f90',
			graph_title_color:'#555',
			graph_value_color:'#f90',
			graph_reverse:false,
			graph_animate:false,
			false_neg: false_negative*disease_likelihood*total_cases/10000,
			true_pos: true_positive*disease_likelihood*total_cases/10000,
			false_pos: false_positive*(100-disease_likelihood)*total_cases/10000,
		});
		};
	</script>
<p style="font-size:13px;color:gray;margin-top:2px;">Hand-coded in HTML/CSS and JavaScript by Sarah Lewin. Hosted on GitHub.</p>
</body>
</html>